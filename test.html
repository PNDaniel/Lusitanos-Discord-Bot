<pre id="data"></pre>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>

//https://opensheet.elk.sh/1uUu5epwHjGf2ykQlHD4QfPhU-RS0FfYsgrFiMddXxlk/Presen%C3%A7as%20S%20XII?

async function get_google_sheets(nome) {
    return new Promise((resolve, reject) => {
    var currentDate = new Date();
    var timestamp = currentDate.getTime();
	axios.get("https://opensheet.elk.sh/1uUu5epwHjGf2ykQlHD4QfPhU-RS0FfYsgrFiMddXxlk/CURRENT%20Attendance%20S%20XI?" + timestamp)
	.then((response)=>{
		//resolve(JSON.stringify(response.data))
		response.data.forEach(element => {
			
            if(element['Nation']!='undefined' && element['Nation']!="")
            if(element[" "]==nome){
            delete element['Nation'];
            delete element['undefined'];
            delete element['Current House'];
            delete element[''];
            delete element[' '];
            var string = JSON.stringify(element, null, 2)
            var falta = (string.match(/\?/g) || []).length;
            var presenca = (string.match(/âœ“/g) || []).length;
            var tentative = (string.match(/x/g) || []).length;
            console.log(falta,presenca,tentative)
            }


        
        
        
        });
		
	});
})
}


async function asyncCall() {
    await Promise.all([get_google_sheets("Alemaoo")]);
}

asyncCall();
</script>